<div id="staff-panel"
     class="flex
            flex-col
            space-y-10
            items-center">
    {% if status != AcceptanceStatus::Accepted -%}
    <h2 class="font-mono
               text-4xl
               text-txthl
               font-bold">Registration Status</h2>

        {% if status == AcceptanceStatus::Pending -%}
        <p class="font-mono
                text-xl
                text-pnd">Your application is still under review. Check back later.</p>
        {%- else -%}
        <p class="font-mono
                text-xl
                text-rej">Your application to work on this event was rejected.</p>
        {%- endif %}
        <button hx-get="/event/{{ event_id }}"
                hx-swap="innerHTML"
                hx-target="#content"
                class="bg-foreground1
                        font-mono
                        text-txthl
                        text-xl
                        p-3">Back
        </button>
    {%- else -%}
    <h2 class="font-mono
               text-4xl
               text-txthl">Staff Panel</h2>
    <div id="staff-info"
         class="flex
                flex-col
                space-y-2
                items-center
                justify-items-center
                w-full">
        <p class="font-mono
                  text-xl
                text-txt">You are working on this event under {{ company.name }}. Your current role on the event is {{ role }}.</p>
        <div id="staff-actions"
             class="flex
                    flex-row
                    flex-wrap
                    justify-evenly
                    space-x-5
                    space-y-5
                    place-content-center
                    w-1/2">
            <button hx-get="/event/{{ event_id }}/task"
                    hx-swap="innerHTML"
                    hx-target="#content"
                    class="bg-foreground1
                            font-mono
                            text-txthl
                            text-xl
                            p-3">View Tasks
            </button>
            <button hx-get="/user/{{ user.id }}/employment/{{ company.id }}"
                    hx-swap="innerHTML"
                    hx-target="#content"
                    class="bg-foreground1
                            font-mono
                            text-txthl
                            text-xl
                            p-3">Access Related Employment
            </button>
            <button hx-get="/company/{{ company.id }}"
                    hx-swap="innerHTML"
                    hx-target="#content"
                    class="bg-foreground1
                            font-mono
                            text-txthl
                            text-xl
                            p-3">Access Your Company
            </button>
            {% if role == EventRole::Organizer %}
            <!-- TODO: Consider if it isn't better to remove staff_id from the call -->
            <button hx-get="/event/{{ event_id }}/mode/{{ id }}"
                    hx-swap="innerHTML"
                    hx-target="#content"
                    class="bg-foreground1
                            font-mono
                            text-txthl
                            text-xl
                            p-3">Edit Event
            </button>
            <button hx-get="/event/{{ event_id }}/staff/{{ id }}/management"
                    hx-swap="innerHTML"
                    hx-target="#content"
                    class="bg-foreground1
                            font-mono
                            text-txthl
                            text-xl
                            p-3">Manage Staff
            </button>
            <!-- TODO: Api call for toggling review mode -->
            <button hx-delete="/event/{{ event_id }}"
                    hx-swap="innerHTML"
                    hx-target="#content"
                    hx-confirm="Are you sure you want to permanently delete the event?"
                    class="bg-foreground1
                            font-mono
                            text-rej
                            text-xl
                            p-3">Delete Event
            </button>
            {% endif %}
        </div>
    </div>

    </div>

    <div id="comments"
         class="flex
                flex-col
                space-y-5
                items-center
                bg-foreground1
                w-full
                m-5
                p-5
                rounded-md">
        <h3 class="text-2xl
                   text-txt
                   font-bold">Event Discussion</h3>
        
        <div id="comments-content"
             hx-get="event/{{ event_id }}/comment"
             hx-trigger="load"
             class="w-full"></div>

        <div id="comment-post"
             class="flex
                    flex-row
                    space-x-3
                    items-start
                    align-middle
                    rounded-md
                    m-2
                    w-full">
            <form hx-post="/event/{{ event_id }}/comment"
                  hx-ext="json-enc"
                  hx-swap="innerHTML"
                  hx-target="#comments-content"
                  class="flex
                         flex-row
                         items-start
                         align-middle
                         bg-foreground2
                         rounded-md
                         w-full
                         p-2">
                <input hidden 
                       id="author_id"
                       name="author_id"
                       value="{{ user.id }}">
                <input id="comment_content"
                       name="content"
                       class="font-mono
                              text-txt
                              bg-foreground2
                              border-gray-800
                              rounded-md
                              border-2
                              w-full"
                       required>
                <button type="submit"
                        title="Post"
                        class="flex
                               flex-row
                               bg-foreground2">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor"
                         class="w-6
                                h-6
                                text-txt">
                        <path stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
                    </svg>               
                </button>
            </form>    
        </div>
    </div>
    {%- endif %}
</div>